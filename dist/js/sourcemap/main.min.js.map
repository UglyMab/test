{"version":3,"sources":["script.js"],"names":["form","document","querySelector","alertElement","selects","querySelectorAll","formItems","passwordInputs","mask","regexPassword","regexEmail","isSafari","test","navigator","userAgent","validNotEmpty","value","length","validEmail","validPassword","confirmPassword","validateForm","inputs","_step","errors","result","_iterator","_createForOfIteratorHelper","s","n","done","element","closest","classList","remove","validateInputs","name","err","e","f","type","add","showAlert","listenPasswords","elem","addEventListener","target","previousElementSibling","innerText","repeat","listenSelect","selectList","lastChild","selectInput","firstChild","selectPlaceholder","childNodes","stopPropagation","textContent","forOfNodeList","toggleSelectClass","listenForm","preventDefault","button","innerHTML","fetch","then","response","json","data","alert","message","setTimeout","list","_step2","_iterator2","removeFormItemAnim","i","concat"],"mappings":"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","file":"../main.min.js","sourcesContent":["const form = document.querySelector('.form')\nconst alertElement = document.querySelector('.alert')\nconst selects = document.querySelectorAll('.select')\nconst formItems = document.querySelectorAll('.form-item')\nconst passwordInputs = document.querySelectorAll('input[type=\"password\"]')\n\nconst mask = '‚óè'\nconst regexPassword = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/\nconst regexEmail =\n\t/^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n\nfunction validNotEmpty(value) {\n\treturn value.length > 0\n}\nfunction validEmail(value) {\n\treturn regexEmail.test(value)\n}\nfunction validPassword(value) {\n\treturn regexPassword.test(value)\n}\nfunction confirmPassword() {\n\treturn passwordInputs[0].value == passwordInputs[1].value\n}\nfunction validateForm(inputs) {\n\tlet errors = 0\n\tconst result = {}\n\tfor (const element of inputs) {\n\t\telement.closest('.form-item').classList.remove('error')\n\t\t!validateInputs(element) ? errors++ : (result[element.name] = element.value)\n\t}\n\treturn errors > 0 ? false : result\n}\nfunction validateInputs(element) {\n\treturn element.type === 'text' &&\n\t\t!element.closest('.select') &&\n\t\t!validNotEmpty(element.value)\n\t\t? (element.closest('.form-item').classList.add('error'),\n\t\t  showAlert('The field cannot be empty!'),\n\t\t  false)\n\t\t: element.closest('.select') && !validNotEmpty(element.value)\n\t\t? (element.closest('.form-item').classList.add('error'),\n\t\t  showAlert('You have to choose a nationality!'),\n\t\t  false)\n\t\t: element.type === 'email' && !validEmail(element.value)\n\t\t? (element.closest('.form-item').classList.add('error'),\n\t\t  showAlert('Enter a valid email!'),\n\t\t  false)\n\t\t: !validPassword(element.value) && element.type === 'password'\n\t\t? (element.closest('.form-item').classList.add('error'),\n\t\t  showAlert(\n\t\t\t\t'Password must contain at least eight characters, at least one number and both lower and uppercase letters and passwords must match'\n\t\t  ),\n\t\t  false)\n\t\t: !confirmPassword() && element.type === 'password'\n\t\t? (element.closest('.form-item').classList.add('error'),\n\t\t  showAlert(\n\t\t\t\t'Password must contain at least eight characters, at least one number and both lower and uppercase letters and passwords must match'\n\t\t  ),\n\t\t  false)\n\t\t: (element.closest('.form-item').classList.add('valid'), true)\n}\n\nfunction listenPasswords(elem) {\n\telem.addEventListener('input', (e) => {\n\t\tif (!isSafari) {\n\t\t\te.target.previousElementSibling.innerText = mask.repeat(\n\t\t\t\te.target.value.length\n\t\t\t)\n\t\t} else {\n\t\t\te.target.classList.add('safari')\n\t\t}\n\t})\n}\nfunction listenSelect(elem) {\n\tconst selectList = elem.lastChild\n\tconst selectInput = elem.firstChild\n\tconst selectPlaceholder = elem.childNodes[1]\n\tselectList.addEventListener('click', (e) => {\n\t\te.stopPropagation()\n\t\tselectInput.value = e.target.textContent\n\t\tselectPlaceholder.classList.remove('open')\n\t\tselectPlaceholder.textContent = e.target.textContent\n\t\tselectList.classList.add('hidden')\n\t})\n\telem.addEventListener('click', (e) => {\n\t\tforOfNodeList(selects, toggleSelectClass)\n\t\tselectPlaceholder.classList.add('open')\n\t\tselectList.classList.remove('hidden')\n\t})\n}\nfunction listenForm(form) {\n\tform.addEventListener('submit', (e) => {\n\t\te.preventDefault()\n\t\tconst inputs = e.target.querySelectorAll('input')\n\t\tconst button = e.target.querySelector('button')\n\t\tif (validateForm(inputs)) {\n\t\t\tform.innerHTML =\n\t\t\t\t'<div> <h3 class=\"form-title\">Thank you</h3><p class=\"form-subtitle\">you registered!</p></div> <div class=\"form-bottom\"><p class=\"login-text\">Have an account?&nbsp;<a class=\"login-link\" href=\"#\">Login</a></p></div>'\n\t\t\tfetch('../assets/json/server.json')\n\t\t\t\t.then((response) => {\n\t\t\t\t\treturn response.json()\n\t\t\t\t})\n\t\t\t\t.then((data) => {\n\t\t\t\t\talert(data.message)\n\t\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tbutton.classList.add('button-error')\n\t\tsetTimeout(() => {\n\t\t\tbutton.classList.remove('button-error')\n\t\t}, 1000)\n\t})\n}\n\nfunction forOfNodeList(list, f) {\n\tfor (const iter of list) {\n\t\tf(iter)\n\t}\n}\nfunction removeFormItemAnim(formItems) {\n\tsetTimeout(() => {\n\t\tfor (let i = 0; i < formItems.length; i++) {\n\t\t\tformItems[i].classList.remove(`fade-${i + 1}`)\n\t\t}\n\t}, 2200)\n}\nfunction showAlert(message) {\n\talertElement.classList.add('alert-show')\n\talertElement.querySelector('p').textContent = message\n\tsetTimeout(() => {\n\t\talertElement.classList.remove('alert-show')\n\t}, 4100)\n}\nfunction toggleSelectClass(elem) {\n\tconst selectList = elem.lastChild\n\tconst selectPlaceholder = elem.childNodes[1]\n\tselectList.classList.add('hidden')\n\tselectPlaceholder.classList.remove('open')\n}\n\nremoveFormItemAnim(formItems)\nforOfNodeList(selects, listenSelect)\nforOfNodeList(passwordInputs, listenPasswords)\nlistenForm(form)\n"]}